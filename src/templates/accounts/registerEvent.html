{% extends "_base.html" %}

{% block content %}

<div class="row">
  <div class="col-md-4"></div>
  <div class="col-md-4">
    <main class="form-signin w-100 m-auto">
      <form role="form" method="post" action="">
        {{ form.csrf_token }}
        <h1 class="h3 mb-3 fw-normal text-center">Create Event</h1>

        <div class="form-floating">
          {{ form.title(placeholder="Title", class="form-control mb-2") }}
          {{ form.title.label }}
            {% if form.title.errors %}
              {% for error in form.title.errors %}
              <div class="alert alert-danger" role="alert">
                {{ error }}
              </div>
              {% endfor %}
            {% endif %}
        </div>
        <div class="form-floating">
          {{ form.body(placeholder="Body", class="form-control mb-2") }}
          {{ form.body.label }}
            {% if form.body.errors %}
              {% for error in form.body.errors %}
                <div class="alert alert-danger" role="alert">
                  {{ error }}
                </div>
              {% endfor %}
            {% endif %}
        </div>

        <a onclick="getLocation()" type="location">Try It</a>

        <p id="demo"></p>
        <button class="w-100 btn btn-lg btn-primary" type="submit" id="ce">Create Event</button>
      </form>
    </main>
  </div>
  <div class="col-md-4"></div>

  <script>
    const x = document.getElementById("demo");
    
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }
    
    function showPosition(position) {
      x.innerHTML = "Latitude: " + position.coords.latitude +
      "<br>Longitude: " + position.coords.longitude;
    }
    </script>


</div>

<div class="loader-wrapper">
  <span class="loader"><span class="loader-inner"></span></span>
</div>

<script>
  setTimeout(function() {
  $(".loader-wrapper").fadeOut("slow");
}, 1500);
</script>


<style>
  body {
      background-color: #f8f9fa;
      margin: 0;
      padding: 0;
      overflow: hidden;
  }

  .main-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: top;
      height: 100vh;
  }

  .events-container {
      max-width: 600px;
      width: 100%;
      margin-top: 20px;
  }

  .create-event-btn {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
  }
  .loader-wrapper {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: #242f3f;
      display:flex;
      justify-content: center;
      align-items: center;
      z-index: 20;
  }
  .loader {
      display: inline-block;
      width: 30px;
      height: 30px;
      position: relative;
      border: 4px solid #Fff;
      animation: loader 2s infinite ease;
  }
  .loader-inner {
      vertical-align: top;
      display: inline-block;
      width: 100%;
      background-color: #fff;
      animation: loader-inner 2s infinite ease-in;
  }

  @keyframes loader {
      0% { transform: rotate(0deg);}
      25% { transform: rotate(180deg);}
      50% { transform: rotate(180deg);}
      75% { transform: rotate(360deg);}
      100% { transform: rotate(360deg);}
  }
  @keyframes loader-inner {
      0% { height: 0%;}
      25% { height: 0%;}
      50% { height: 100%;}
      75% { height: 100%;}
      100% { height: 0%;}
  }
</style>

{% endblock %}



